===
navigate to test page
%require
===
plwr -S plwr-test open "http://localhost:8599/index.html"
---

===
wait times out on missing element
===
! plwr -S plwr-test wait .does-not-exist -T 500
---
Timeout 500ms exceeded. [selector: .does-not-exist]

===
click fails on missing element
===
! plwr -S plwr-test click .does-not-exist -T 500
---
Timeout 500ms exceeded. [selector: .does-not-exist]

===
text fails on missing element
===
! plwr -S plwr-test text .does-not-exist -T 500
---
Timeout 500ms exceeded. [selector: .does-not-exist]

===
attr fails on missing element
===
! plwr -S plwr-test attr .does-not-exist href -T 500
---
Timeout 500ms exceeded. [selector: .does-not-exist]

===
fill fails on missing element
===
! plwr -S plwr-test fill .does-not-exist hello -T 500
---
Timeout 500ms exceeded.

===
tree fails on missing selector
===
! plwr -S plwr-test tree .does-not-exist
---
Element not found: .does-not-exist

===
open fails with invalid URL
===
! plwr -S plwr-test open "not-a-url"
---
Cannot navigate to invalid URL

===
eval fails with invalid JS
===
! plwr -S plwr-test eval "???"
---
SyntaxError: Unexpected token '??'

===
press fails with invalid key
===
! plwr -S plwr-test press NotAKey
---
Unknown key: "NotAKey"

===
screenshot fails with invalid path
===
! plwr -S plwr-test screenshot --path /nonexistent/dir/img.png
---
No such file or directory (os error 2)

===
video-stop fails when not recording
===
! plwr -S plwr-test video-stop /tmp/plwr-never.webm
---
No video recording in progress

===
stop when no daemon is a no-op
===
plwr -S plwr-test-nonexistent stop
---
