===
open form page
%require
===
plwr -S plwr-test open "http://localhost:8599/form.html"
---

===
wait for scroll target to load
%require
===
plwr -S plwr-test wait '#scroll-target'
---

# -- Scroll into view --

===
scroll target is below the fold initially
===
plwr -S plwr-test eval "document.getElementById('scroll-target').getBoundingClientRect().top > window.innerHeight"
---
true

===
scroll it into view
===
plwr -S plwr-test scroll '#scroll-target'
---

===
after scroll the element is in the viewport
===
plwr -S plwr-test eval "(() => { const r = document.getElementById('scroll-target').getBoundingClientRect(); return r.top >= 0 && r.bottom <= window.innerHeight; })()"
---
true

# -- Scroll to element at top of page resets scroll --

===
scroll to h1 at top
===
plwr -S plwr-test scroll 'h1'
---

===
page scrolled back to top
===
plwr -S plwr-test eval "window.scrollY < 100"
---
true
