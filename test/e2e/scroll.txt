===
open form page
%require
===
plwr -S plwr-test open "http://localhost:8599/form.html"
---

===
wait for scroll target to load
%require
===
plwr -S plwr-test wait '#scroll-target'
---

===
scroll target is below the fold initially
===
plwr -S plwr-test eval "document.getElementById('scroll-target').getBoundingClientRect().top > window.innerHeight ? 'below' : 'visible'"
---
below

===
scroll it into view
===
plwr -S plwr-test scroll '#scroll-target'
---

===
after scroll the element is in the viewport
===
plwr -S plwr-test eval "(() => { const r = document.getElementById('scroll-target').getBoundingClientRect(); return r.top >= 0 && r.bottom <= window.innerHeight ? 'visible' : 'not-visible'; })()"
---
visible

===
scroll to h1 at top
===
plwr -S plwr-test scroll 'h1'
---

===
page scrolled back to top
===
plwr -S plwr-test eval "window.scrollY < 100 ? 'top' : 'scrolled'"
---
top
